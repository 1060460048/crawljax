<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">

	var state = 0;
	function randomState() {
		var newLink = document.createElement('button');
		newLink.setAttribute("onclick","randomState();");
		newLink.innerHTML = "State " + state++;
		newLink.setAttribute("class","state" + state);
		var li = document.createElement('li');
		li.appendChild(newLink);
		document.getElementById('links').appendChild(li);
		
	}
	
	function shortcutToState(stateid) {
		var list = document.getElementById('links');
		list.innerHTML = '<li><a href="#" onclick="randomState();" id="clicker">Initial state</a></li>';
		state = 0;
		for(var i = 0; i <= stateid; i++) {
			randomState();
		}
	}
	
</script>
</head>

<body>
	<h1>Loads an infinite number of states</h1>
	<ul id='links'>
		<li><a href="#" onclick="randomState();" id='clicker'>Initial state</a></li>
	</ul>
	<a href="#" onclick="shortcutToState(2);" id="shortcut">Shortcut</a>
</body>
</html>